{% extends "base.html" %}

{% block title %} Result {% endblock %} 

{% block head %} 

<link rel="stylesheet" href="{{url_for('static',filename = 'main.css')}}" title="" type="" />
{% endblock %}



{% block content %}


 <div class ="img d-flex flex-column min-vh-100 justify-content-center align-items-center">  
        <form id="form" action = "/search" method = "post">
         <div class="form-row align-items-center">
         <h1 class = "mx-auto mb-3"> CAA - Digital Library</h1>
         <h6 class = "form-text text-muted">Over 220,000 websites use Crazy Egg to improve what's, working for what isn't and test new ideas.
         </h6>
         
           <div class="col-md-12 input-group mb-4">
         <input id = "search" name="search" placeholder = "Enter book title"type="text" autocomplete="off" class="form-control form-control-sm bg-transparent" name = "username"> </input> 
          <select class="form-select" name="category" id="category">
           <option value="" selected>Category</option>
  <option value="General Works, Computer Science & Information">General Works, Computer Science & Information</option></option>
  <option value="Philosophy & Psychology">Philosophy & Psychology</option>
  <option value="Religion">Religion</option>
    <option value="Social Sciences">Social Sciences</option>
  <option value="Language">Language</option>
  <option value="Science">Sciences</option>
  <option value="Technology">Technology</option>
  <option value="Arts & Recreation">Arts & Recreation</option>
  <option value="Literature">Literature</option>
  <option value="History & Geography">History & Geography</option>
         </select>
  
         <span class="input-group-btn">
         <button id = "btn"class="btn btn-primary">Search title  </button>
        </span>
</div>

{% for i in exact %}
<div class="container">
  <div class="row">
    <div class="col-sm-4">
      <div class="card card-flip h-100">
        <div class="card-front text-white bg-primary">
          <div class="card-body">
            <h3 class="card-title text-white">Exact Match</h3>
            <i class="fa fa-search fa-5x float-right"></i>
            <div class="row my-2">
    <div class="col my-1">
    <a>{{i.bookname}}</a>
    </div>
  
    
    <div class="col-auto bg-transparent">
      <img ontouchstart = "confirmation(this)" onclick="confirmation(this)"class="mx-3 my-1" src="{{url_for('static', filename = '/bootstrap-icons-1.8.1/eye-fill.svg')}}" width="30" height="30" name = "{{i.filename}}"> </img>
    </div>
  </div>
          </div>
        </div>
        <div class="card-back bg-white">
          <div class="card-body">
            <p class="card-text">{{i.category}}</p>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endfor %}


{% if file %}
<h3 class="text-muted"> Relevant </h1>
{% endif %} 


{% if not file and not exact %}

<div class = "card">
  <div class="card-body">
    <h1 class="card-title">File Not Found</h1>
    <p class="card-text">Try Using Other Keywords</p>
  </div>
  
  
</div>

{% endif %}

{% for i in file %}

<!--
<div class="colorhover card bg-transparent container-auto my-4">
  <div class="row my-2">
    <div class="col my-1">
    <a>{{i.bookname}}</a>
    </div>
  
    
    <div class="col-auto bg-transparent">
      <img onclick="confirmation(this)"class="mx-3" src="{{url_for('static', filename = '/bootstrap-icons-1.8.1/eye-fill.svg')}}" width="30" height="30" name = "{{i.filename}}"> </img>
    </div>
  </div>
</div>
-->

<div class="container">
  <div class="row">
    <div class="col-sm-4">
      <div class="card card-flip h-100">
        <div class="card-front text-white bg-primary">
          <div class="card-body">
            <i class="fa fa-search fa-5x float-right"></i>
            <div class="row my-2">
    <div class="col my-1">
    <a>{{i.bookname}}</a>
    </div>
  
    
    <div class="col-auto bg-transparent">
      <img ontouchstart = "confirmation(this)" onclick="confirmation(this)"class="mx-3 my-1" src="{{url_for('static', filename = '/bootstrap-icons-1.8.1/eye-fill.svg')}}" width="30" height="30" name = "{{i.filename}}"> </img>
    </div>
  </div>
          </div>
        </div>
        <div class="card-back bg-white">
          <div class="card-body">
            <p class="card-text">{{i.category}}</p>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




{% endfor %}
    
           
         </div>
       </form>
       </div>







{% endblock %} 


{% block script %}

<script type="text/javascript" charset="utf-8">
  
  function confirmation(e){
      window.location.replace(`${window.origin}/view/${e.name}`)
  }
  
  function search(){
  alert("hey")
  }
  
  
  
</script>

{% endblock %}